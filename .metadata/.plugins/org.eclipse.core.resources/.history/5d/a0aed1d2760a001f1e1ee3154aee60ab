package windows.window;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.util.Vector;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.ListSelectionModel;

import windows.actions.Bouton_Ajout_Contact;
import windows.actions.Bouton_Changement_Pseudo;
import windows.actions.Bouton_Changement_status;
import windows.actions.Clicks_Contact;
import windows.actions.Menu_principal_apropos;
import windows.actions.Menu_principal_quit;
@SuppressWarnings("serial")
public class form_contact extends JFrame{

	private JPanel pan;
	private JLabel Titre;
	private JLabel Soustitre;
	private JList  list;
	private String pseudo;
	private Object status;
	private JComboBox changstatus;
	private JButton addcontact;
	private JButton changepseudo;

	public form_contact(Object stat, String pseudo2){
		this.status=stat;
		this.pseudo=pseudo2;
		BuildFenetre();
	}

	private void BuildFenetre(){
		
		setTitle("Cookie Messenger - Contacts"); 
		setSize(400,600); 
		setLocationRelativeTo(null);
		setResizable(true);
		setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
		
		pan=new JPanel();
		pan.setLayout(new FlowLayout());
		pan.setBackground(new Color(128,128,255));
		pan.setLayout(new FlowLayout(FlowLayout.CENTER,600,15));
		
		Menu_principal();


		Titre=new JLabel("Vous etes connect√© en tant que " + pseudo,JLabel.CENTER);
		
		changstatus= new JComboBox();
		changstatus.addItem("Offline");
		changstatus.addItem("Online");
		changstatus.addItem("Busy");
		changstatus.addItem("AFK");
		changstatus.setSelectedItem(status);
		changstatus.addActionListener(new Bouton_Changement_status(changstatus));
		
		Soustitre = new JLabel("Liste de vos contacts : ");
		
		/*addcontact=new JButton("Ajouter un contact");
		changepseudo=new JButton("Changer de pseudo");
		addcontact.addActionListener(new Bouton_Ajout_Contact());
		changepseudo.addActionListener(new Bouton_Changement_Pseudo(Titre));*/

		/*pan.add(addcontact);
		pan.add(changepseudo);*/
		pan.add(Titre);
		pan.add(changstatus);
		pan.add(Soustitre);
		
		setlistcontact();	
		
		setContentPane(pan);        
	    setVisible(true); 
	    
	}
	
	private void setlistcontact(){
		//nom du groupe
		Vector<String> contacts=new Vector<String>();
		contacts.add("truc");
		contacts.add("truc1");
		contacts.add("truc3");
		contacts.add("truc4");
		contacts.add("truc5");
		contacts.add("truc6");
		contacts.add("truc7");
		contacts.add("truc8");
		contacts.add("truc9");
		//remplacer par listecontacts bien sur...
		list = new JList(contacts);
		list.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
		list.addMouseListener(new Clicks_Contact(list));
		pan.add(list);
		JScrollPane listeAvecAscenseur = new JScrollPane(list);
		listeAvecAscenseur.setPreferredSize(new Dimension(150, 100));
		pan.add(listeAvecAscenseur);
	}
	
	private void Menu_principal() {
		JMenuBar menuBar = new JMenuBar();
		JMenu menu1 = new JMenu("Menu");
		JMenu menu2 = new JMenu("?");
		JMenuItem quitter;
		JMenuItem ajoutcontact;
		JMenuItem changerpseudo;
		JMenuItem aPropos;
		
		/*contenu du menu "menu":*/
		quitter = new JMenuItem("Quitter");
		ajoutcontact = new JMenuItem("Ajouter un contact");
		changerpseudo = new JMenuItem("Changer de pseudo");
		quitter.addActionListener(new Menu_principal_quit());
		ajoutcontact.addActionListener(new Bouton_Ajout_Contact());
		changerpseudo.addActionListener(new Bouton_Changement_Pseudo(Titre));
		//menu1.add(deconnexion);
		menu1.add(ajoutcontact);
		menu1.add(changerpseudo);
		menu1.add(quitter);
		menuBar.add(menu1);

		/*contenu du menu "?":*/
		aPropos = new JMenuItem("A propos");
		aPropos.addActionListener(new Menu_principal_apropos());
		menu2.add(aPropos);
		menuBar.add(menu2);
		setJMenuBar(menuBar);
	}
	
	public JPanel getPan(){
		return this.pan;
	}
}
