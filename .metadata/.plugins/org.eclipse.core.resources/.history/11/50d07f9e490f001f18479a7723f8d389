package windows.window;

import java.awt.event.ActionListener;

import javax.swing.JFrame;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JPanel;

import windows.actions.Menu_Ajout_Contact;
import windows.actions.Menu_Ajout_Groupe;
import windows.actions.Menu_Changement_Pseudo;
import windows.actions.Menu_Deconnexion;
import windows.actions.Menu_principal_apropos;
import windows.actions.Menu_principal_quit;

public class form_fram extends JFrame{

	/*private JMenuItem quitter;
	private JMenuItem ajoutgroupe;
	private JMenuItem ajoutcontact;
	private JMenuItem changerpseudo;
	private JMenuItem deconnexion;
	private JMenuItem aPropos;
	private JMenuItem preference;*/
	
	private JFrame fram;
	private JPanel pan_connect;
	private JPanel pan_contact;
	
	public form_fram(){
		fram = new JFrame();
		pan_connect = new JPanel();
		fram.setTitle("Cookie Messenger"); 
		fram.setSize(300,600); 
		fram.setLocationRelativeTo(null);
		fram.setResizable(false);
		fram.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
		buildfenetre(1);
	}
	
	public void buildfenetre(int i) {
		if(i==1){
			Menu_connect();
			pan_connect = new pannel_connect(this);
			fram.add(pan_connect);        
			fram.setVisible(true); 
		}else if(i==2){
			Menu_contact();
			pan_contact = new pannel_contact();
			fram.removeAll();
			fram.add(pan_contact);
			fram.setVisible(true);
		}
		
	}

	public JFrame getfram(){
		return this.fram;
	}
	
	private void Menu_connect() {
		JMenuBar menuBar = new JMenuBar();
		JMenu menu1 = new JMenu("Menu");
		JMenu menu2 = new JMenu("?");
		JMenuItem quitter;
		JMenuItem aPropos;
		
		/*contenu du menu "menu":*/
		quitter = new JMenuItem("Quitter");
		quitter.addActionListener(new Menu_principal_quit());
		menu1.add(quitter);
		menuBar.add(menu1);

		/*contenu du menu "?":*/
		aPropos = new JMenuItem("A propos");
		aPropos.addActionListener(new Menu_principal_apropos());
		menu2.add(aPropos);
		menuBar.add(menu2);
		
		fram.setJMenuBar(menuBar);

	}
	
	private void Menu_contact() {
		JMenuBar menuBar = new JMenuBar();
		JMenu menu1 = new JMenu("Menu");
		JMenu menu2 = new JMenu("?");
		JMenu menu3 = new JMenu("Option");
		
		AddItem(menu1,"Quitter",new Menu_principal_quit());
		AddItem(menu1,"Ajouter un contact",new Menu_Ajout_Contact());
		AddItem(menu1,"Ajouter un groupe",new Menu_Ajout_Groupe());
		AddItem(menu1,"Changer de pseudo",new Menu_Changement_Pseudo());
		AddItem(menu1,"Se déconnecter",new Menu_Deconnexion());
		AddItem(menu2,"A propos...",new Menu_principal_apropos());
		//AddItem(menu3,"Préférences",new Menu_pref(getpannel()));
		
		menuBar.add(menu1);
		menuBar.add(menu3);
		menuBar.add(menu2);
		fram.setJMenuBar(menuBar);
	}
	
	private void AddItem(JMenu menu, String label, ActionListener obj)
	{
		JMenuItem temp = new JMenuItem(label);
		temp.addActionListener(obj);
		menu.add(temp);
	}
}
