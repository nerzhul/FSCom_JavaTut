package user.pages;
import java.awt.BorderLayout;
import java.awt.CardLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Frame;
import java.awt.MenuBar;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Vector;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JPanel;
import javax.swing.JPasswordField;
import javax.swing.JTextField;


@SuppressWarnings("serial")
public class connexion extends Frame implements ActionListener{
	
		private JPanel pFace; 
		CardLayout cards=new CardLayout();
		
		private JLabel Titre;
		private JComboBox list;
		private JLabel lbluser;
		private JLabel lblpwd;
		private JTextField user;
		private JPasswordField pwd;
		private JButton connect;
		
		private Vector<String> contacts;
		
	public connexion(){
		super();
		setLayout(cards);
		pFace=new JPanel();
		pFace.setBackground(new Color(50,150,50));
		pFace.setLayout(new FlowLayout());
		pFace.setLayout(new FlowLayout(FlowLayout.CENTER,50,10));
			
		Titre=new JLabel("Bienvenu dans Chouch Messenger",JLabel.CENTER);
		lbluser=new JLabel("Pseudo :");
		lblpwd=new JLabel("Password :");
		user=new JTextField(15);
		pwd=new JPasswordField(15);
		connect=new JButton("Connection");
		connect.addActionListener(this);
		pFace.add(Titre);
		//imagelogo
		pFace.add(lbluser);
		pFace.add(user);
		pFace.add(lblpwd);
		pFace.add(pwd);
		pFace.add(connect);
			
		setSize(300,600);
		setTitle("Page de connexion");
		setLocationRelativeTo(null); 
		setResizable(false); 
		//setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
	}

	public void login(String u, String p) {
		//envoi au serveur/verif...
	}
	
	public Vector<String> getContacts(){
		return contacts;
		//recup contacts
	}

	public void startApp(String u,String p){  
	
			user.setEnabled(false);
			pwd.setEnabled(false);
			connect.setEnabled(false);
			
			login(u,p);		
			//contact
			
			//fenetre de tchat
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		if(e.getSource()==connect){  
			Thread application = new Thread(){  
				public void run(){
					String u = user.getText();
					String p = new String(pwd.getPassword());
					startApp(u,p);	
				}
			};
			application.start();
		}
	}
	
}
